<!--<ns-action-bar
  [title]="isLogin ? 'Login' : 'Sign Up'"
  [showBackButton]="false"
  [hasMenu]="false"
></ns-action-bar>-->
<StackLayout class="container">
  <StackLayout class="form" [formGroup]="form">
    <StackLayout class="headingContainer">
      <Label class="heading" [text]="isLogin ? 'Login' : 'Sign Up'"></Label>
    </StackLayout>

      <StackLayout class="input-field">
          <Label 
          class="label" 
          text="E-Mail" 
          [ngClass]="{invalid: !emailControlIsValid}"
          ></Label>
          <TextField 
          class="input" 
          returnKeytype="next"
          keyboardType="email"
          autocorrect="false"
          autocapitalizationType="none"
          formControlName="email"
          #emailEl
          ></TextField>
          <Label 
          *ngIf="!emailControlIsValid" 
          text="Please enter a valid email address"
          color="red"
          ></Label>
        </StackLayout>
        <StackLayout class="input-field">
            <Label 
            class="label" 
            text="Password" 
            [ngClass]="{invalid: !passwordControlIsValid}"></Label>
            <TextField 
            class="input"
            returnKeyType="next"
            autocorrect="false"
            autocapitalizationType="none"
            formControlName="password"
            [secure]="true"
            #passwordEl
            ></TextField>
            <Label 
            *ngIf="!passwordControlIsValid" 
            text="Please enter a valid password"
            color="red"
            ></Label>
        </StackLayout>
        <StackLayout class="input-field" *ngIf="!isLogin">
            <Label 
            class="label" 
            text="Confirm Password" 
            ></Label>
            <TextField 
            class="input"
            returnKeyType="next"
            autocorrect="false"
            autocapitalizationType="none"
            formControlName="confirmPassword"
            [secure]="true"
            ></TextField>
        </StackLayout>
  </StackLayout>

  <DockLayout width="100%" height="100%" stretchLastChild="false">
    <StackLayout dock="bottom" height="200">
        <Button [text]="isLogin ? 'Login' : 'Sign Up'" class="btn btn-primary mt-20" (tap)="onSubmit()" *ngIf="!isLoading"></Button>
        <ActivityIndicator *ngIf="isLoading" [busy]="isLoading"></ActivityIndicator>
        <!--<Button [text]="isLogin ? 'Sign Up Instead' : 'Log In Instead'" class="btn btn-secondary"  (tap)="switchAuthMode()"></Button>-->
        <Label class="text-label" (tap)="switchAuthMode()">
            <FormattedString>
                <Span class="auth-label" [text]="isLogin ? 'Sign Up' : 'Log In'"></Span>
            </FormattedString>
        </Label>
        <Label class="text-label" (tap)="continueAsGuest()">
            <FormattedString>
                <Span class="auth-label" text="Continue As Guest"></Span>
            </FormattedString>
        </Label>
    </StackLayout>
  </DockLayout>
</StackLayout>