

<FlexboxLayout height="100%" flexDirection="column" alignItems="center" justifyContent="flex-start">
  <ns-action-bar
  title="My Family"
  [showBackButton]="true"
></ns-action-bar>
<StackLayout width="100%" height="100%">
<StackLayout *ngIf="!creatingChild && !editingChild">
    <StackLayout *ngFor=" let child of myChildren; let i = index">
        
        <FlexboxLayout class="family-cont">
            <Label class="child-name" text="{{child.childFirstName}} {{child.childLastName}}"></Label>
            <FlexboxLayout class="family-edit-cont">
              <StackLayout class="btn btn-success btn-child-action secondaryBtn" (tap)="editMode(child, i)">
                <Label class="fa icon child-icon" text="&#xf044; Edit"></Label>
              </StackLayout>
              <StackLayout class="btn btn-red btn-child-action secondaryBtn" (tap)="deleteChild(i)">
                  <Label class="fa icon child-icon" text="&#xf014; Delete"></Label>
              </StackLayout>
            </FlexboxLayout>
            
        </FlexboxLayout>
      </StackLayout>
      <Button text="Add Child" class="btn btn-primary btn-child" (tap)="createMode()"></Button>
</StackLayout>

<StackLayout class="form" [formGroup]="form" *ngIf="creatingChild">
    <Label class="h3" text="Add new child" textAlign="left"></Label>
      <StackLayout class="input-field">
              <Label 
              class="label" 
              text="Child First Name" 
              ></Label>
              <TextField
              class="input" 
              returnKeytype="next"
              autocorrect="false"
              formControlName="childFirstName"
              ></TextField>

      </StackLayout>
      <StackLayout class="input-field">
        <Label 
        class="label" 
        text="Child Last Name" 
        ></Label>
        <TextField
        class="input" 
        returnKeytype="next"
        autocorrect="false"
        formControlName="childLastName"
        ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child D.O.B (dd/mm/yyyy)" 
  ></Label>
  <TextField
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childBirthday"
  keyboardType="datetime"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child Medicare Card Number"
  keyboardType="number"
  ></Label>
  <TextField
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareNumber"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child Medicare Line Number"
  keyboardType="number" 
  ></Label>
  <TextField
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareCode"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child Medicare Expiry (mm/yyyy)"
  keyboardType="datetime"
  ></Label>
  <TextField
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareExpiry"
  ></TextField>

</StackLayout>
      <Button class="btn" text="Create Child" (tap)="addChild()"></Button>
      <Button class="btn btnOutline" text="Cancel" (tap)="closeCreate()"></Button>
</StackLayout> 

<StackLayout class="form" [formGroup]="editForm" *ngIf="editingChild">
    <Label class="h3" text="Edit Child" textAlign="left"></Label>
      <StackLayout class="input-field">
              <Label 
              class="label" 
              text="Child First Name" 
              ></Label>
              <TextField
              [text]="editFirstName"
              class="input" 
              returnKeytype="next"
              autocorrect="false"
              formControlName="childFirstName"
              ></TextField>

      </StackLayout>
      <StackLayout class="input-field">
        <Label 
        class="label" 
        text="Child Last Name" 
        ></Label>
        <TextField
        [text]="editLastName"
        class="input" 
        returnKeytype="next"
        autocorrect="false"
        formControlName="childLastName"
        ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child D.O.B (dd/mm/yyyy)"
  keyboardType="datetime"
  ></Label>
  <TextField
  [text]="editBirthday"
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childBirthday"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child Medicare Card Number" 
  ></Label>
  <TextField
  [text]="editMedicareNumber"
  keyboardType="number"
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareNumber"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label"
  text="Child Medicare Line Number" 
  keyboardType="number"
  ></Label>
  <TextField
  [text]="editMedicareCode"
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareCode"
  ></TextField>

</StackLayout>
<StackLayout class="input-field">
  <Label 
  class="label" 
  text="Child Medicare Expiry (mm/yyyy)"
  keyboardType="datetime" 
  ></Label>
  <TextField
  [text]="editMedicareExpiry"
  class="input" 
  returnKeytype="next"
  autocorrect="false"
  formControlName="childMedicareExpiry"
  ></TextField>

</StackLayout>
      
      <Button class="btn btn-rounded-lg btn-contrast" text="Update Child" (tap)="updateChild()"></Button>
      <Button class="btn btn-rounded-lg btn-fail" text="Cancel" (tap)="closeEdit()"></Button>
</StackLayout>
</StackLayout>
</FlexboxLayout>



